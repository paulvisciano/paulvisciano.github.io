<!DOCTYPE html>
<html>
<head>
    <title>Jarvis Neural Mind</title>
    <style>
        * { margin: 0; padding: 0; }
        body { 
            background: #0a1128; 
            color: #00ffff; 
            font-family: monospace; 
            overflow: hidden;
        }
        canvas { 
            display: block; 
            background: radial-gradient(ellipse at center, #0f1a3a 0%, #0a0f20 50%, #000000 100%);
            filter: brightness(1.1);
        }
        #info { 
            position: fixed; 
            left: 0; 
            top: 0; 
            width: 240px; 
            height: 100vh; 
            background: rgba(10, 17, 40, 0.98); 
            padding: 18px; 
            border-right: 2px solid #00ffff;
            font-size: 11px; 
            overflow-y: auto;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.15);
        }
        h3 { 
            margin: 18px 0 10px 0; 
            color: #00ffff; 
            font-size: 14px;
            text-shadow: 0 0 15px #00ffff, 0 0 30px #0088ff;
            font-weight: bold;
        }
        p { margin: 5px 0; line-height: 1.5; }
        button { 
            background: linear-gradient(135deg, #0088ff, #00ffff); 
            color: #000; 
            padding: 10px 14px; 
            margin: 10px 0; 
            border: 0; 
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
            font-family: monospace;
            transition: all 0.3s;
            width: 100%;
            box-shadow: 0 0 10px #0088ff;
        }
        button:hover { 
            background: linear-gradient(135deg, #00ffff, #00ffff);
            box-shadow: 0 0 25px #00ffff;
            transform: scale(1.02);
        }
        .stat { color: #00ffff; font-weight: bold; text-shadow: 0 0 10px #00ffff; }
        .desc { color: #0088ff; font-size: 9px; }
    </style>
</head>
<body>
    <div id="info">
        <h3>‚ö° Neural Mind</h3>
        <p class="desc">Your memories. Alive. Connected.</p>
        <p style="margin-top: 15px; font-size: 12px;">
            <span class="stat" id="status">‚Äî</span>
        </p>
        <p style="margin-top: 15px; font-size: 10px; line-height: 1.7; color: #0088ff;">
            üñ±Ô∏è Drag to orbit<br>
            üìú Scroll to zoom<br>
            üëÜ Click to focus<br>
        </p>
        <p style="margin-top: 15px;">
            <span class="stat" id="count">0</span> <span class="desc">neurons active</span>
        </p>
        <button onclick="walk()" style="margin-top: 20px;">‚ö° Random Pulse</button>
        <button onclick="reset()">‚Üª Reset Mind</button>
        
        <h3 style="margin-top: 25px;">Memory Clusters</h3>
        <p style="font-size: 10px; line-height: 1.8;">
            <span style="color: #00ffff;">‚óè Activities</span><br>
            <span style="color: #ff00aa;">‚óè Connections</span><br>
            <span style="color: #00ff88;">‚óè Locations</span><br>
            <span style="color: #ffaa00;">‚óè Moments</span><br>
            <span style="color: #aa00ff;">‚óè Feelings</span>
        </p>
    </div>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d', {alpha: true});
        
        canvas.width = window.innerWidth - 240;
        canvas.height = window.innerHeight;

        const nodes = [
            {id: 0, name: 'Volleyball', x: 0, y: 0, z: 0, vx: 0, vy: 0, vz: 0, size: 12, color: '#00ffff', glow: 28, freq: 18},
            {id: 1, name: 'Jeandel', x: 130, y: 70, z: -90, vx: 0, vy: 0, vz: 0, size: 10, color: '#ff00aa', glow: 24, freq: 12},
            {id: 2, name: 'Crew', x: -160, y: -90, z: 110, vx: 0, vy: 0, vz: 0, size: 9, color: '#ff00aa', glow: 22, freq: 10},
            {id: 3, name: 'Siargao', x: 110, y: -130, z: -70, vx: 0, vy: 0, vz: 0, size: 11, color: '#00ff88', glow: 26, freq: 15},
            {id: 4, name: 'Work', x: -110, y: 110, z: 90, vx: 0, vy: 0, vz: 0, size: 7, color: '#ffaa00', glow: 18, freq: 8},
            {id: 5, name: 'Maria', x: 120, y: 90, z: 30, vx: 0, vy: 0, vz: 0, size: 6, color: '#ff00aa', glow: 14, freq: 6},
            {id: 6, name: 'Cooking', x: -140, y: 40, z: -60, vx: 0, vy: 0, vz: 0, size: 6, color: '#00ffff', glow: 14, freq: 6},
            {id: 7, name: 'Miami', x: 70, y: -80, z: 140, vx: 0, vy: 0, vz: 0, size: 7, color: '#00ff88', glow: 16, freq: 7},
            {id: 8, name: 'Presence', x: -80, y: -120, z: 40, vx: 0, vy: 0, vz: 0, size: 8, color: '#aa00ff', glow: 20, freq: 9},
            {id: 9, name: 'Gym', x: 150, y: 50, z: 80, vx: 0, vy: 0, vz: 0, size: 6, color: '#00ffff', glow: 14, freq: 7},
            {id: 10, name: 'Wouter', x: -100, y: 140, z: -110, vx: 0, vy: 0, vz: 0, size: 5, color: '#ff00aa', glow: 12, freq: 4},
            {id: 11, name: 'Boracay', x: 130, y: -100, z: 110, vx: 0, vy: 0, vz: 0, size: 7, color: '#00ff88', glow: 16, freq: 8},
            {id: 12, name: 'Gift-Giving', x: 80, y: 110, z: -90, vx: 0, vy: 0, vz: 0, size: 5, color: '#00ffff', glow: 12, freq: 5}
        ];

        const edges = [
            {from: 0, to: 2, weight: 15},
            {from: 0, to: 7, weight: 8},
            {from: 0, to: 9, weight: 12},
            {from: 1, to: 3, weight: 12},
            {from: 1, to: 6, weight: 10},
            {from: 1, to: 8, weight: 11},
            {from: 3, to: 6, weight: 9},
            {from: 3, to: 5, weight: 7},
            {from: 5, to: 12, weight: 6},
            {from: 2, to: 7, weight: 10},
            {from: 9, to: 7, weight: 5},
            {from: 1, to: 4, weight: 8},
            {from: 8, to: 6, weight: 8},
            {from: 4, to: 8, weight: 7},
            {from: 2, to: 4, weight: 6}
        ];

        let camera = {angle: 0.5, dist: 480, height: 0};
        let selected = null;
        let time = 0;
        let particles = [];

        function project(x, y, z) {
            const cos = Math.cos(camera.angle);
            const sin = Math.sin(camera.angle);
            const rx = x * cos - z * sin;
            const rz = x * sin + z * cos;
            const scale = camera.dist / (camera.dist + rz + 200);
            return {
                x: canvas.width/2 + rx * scale,
                y: canvas.height/2 + (y + camera.height) * scale,
                z: rz,
                scale: Math.max(0.1, scale)
            };
        }

        function step() {
            for (let i = 0; i < nodes.length; i++) {
                nodes[i].vx *= 0.95;
                nodes[i].vy *= 0.95;
                nodes[i].vz *= 0.95;

                for (let j = i+1; j < nodes.length; j++) {
                    const dx = nodes[j].x - nodes[i].x;
                    const dy = nodes[j].y - nodes[i].y;
                    const dz = nodes[j].z - nodes[i].z;
                    const d = Math.sqrt(dx*dx + dy*dy + dz*dz) + 1;
                    const f = 50 / (d * d);
                    nodes[i].vx -= f * dx / d;
                    nodes[i].vy -= f * dy / d;
                    nodes[i].vz -= f * dz / d;
                    nodes[j].vx += f * dx / d;
                    nodes[j].vy += f * dy / d;
                    nodes[j].vz += f * dz / d;
                }
            }

            edges.forEach(e => {
                const n1 = nodes[e.from];
                const n2 = nodes[e.to];
                const dx = n2.x - n1.x;
                const dy = n2.y - n1.y;
                const dz = n2.z - n1.z;
                const d = Math.sqrt(dx*dx + dy*dy + dz*dz) || 1;
                const f = 0.014 * e.weight;
                n1.vx += f * dx / d;
                n1.vy += f * dy / d;
                n1.vz += f * dz / d;
            });

            nodes.forEach(n => {
                n.x += n.vx;
                n.y += n.vy;
                n.z += n.vz;
            });
        }

        function render() {
            try {
                time++;
                
                ctx.fillStyle = '#0a1128';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const sorted = nodes.map(n => {
                    const p = project(n.x, n.y, n.z);
                    return {node: n, proj: p};
                }).sort((a, b) => a.proj.z - b.proj.z);

                // Draw synapses with triple glow
                edges.forEach(e => {
                    const p1 = project(nodes[e.from].x, nodes[e.from].y, nodes[e.from].z);
                    const p2 = project(nodes[e.to].x, nodes[e.to].y, nodes[e.to].z);
                    
                    const strength = 0.4 + (e.weight / 15) * 0.6;
                    
                    // Outer glow - blue
                    ctx.strokeStyle = `rgba(0, 100, 255, ${strength * 0.2})`;
                    ctx.lineWidth = Math.max(4, e.weight / 2.5) + 2;
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    ctx.beginPath();
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.stroke();

                    // Mid glow - cyan
                    ctx.strokeStyle = `rgba(0, 200, 255, ${strength * 0.4})`;
                    ctx.lineWidth = Math.max(2, e.weight / 3.5) + 1;
                    ctx.beginPath();
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.stroke();

                    // Core - bright cyan
                    ctx.strokeStyle = `rgba(0, 255, 255, ${strength})`;
                    ctx.lineWidth = Math.max(0.5, e.weight / 5);
                    ctx.beginPath();
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.stroke();
                });

                // Draw neurons
                sorted.forEach(item => {
                    const n = item.node;
                    const p = item.proj;
                    const r = n.size * p.scale;
                    const glow = n.glow * p.scale;

                    // Outer halo
                    const g1 = ctx.createRadialGradient(p.x, p.y, r*0.5, p.x, p.y, glow*2);
                    const [r2, g2, b2] = [
                        parseInt(n.color.slice(1,3), 16),
                        parseInt(n.color.slice(3,5), 16),
                        parseInt(n.color.slice(5,7), 16)
                    ];
                    g1.addColorStop(0, `rgba(${r2}, ${g2}, ${b2}, 0.6)`);
                    g1.addColorStop(0.5, `rgba(${r2}, ${g2}, ${b2}, 0.15)`);
                    g1.addColorStop(1, `rgba(${r2}, ${g2}, ${b2}, 0)`);
                    ctx.fillStyle = g1;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, glow*2, 0, 6.28);
                    ctx.fill();

                    // Inner glow
                    const g2_grad = ctx.createRadialGradient(p.x, p.y, r*0.2, p.x, p.y, glow);
                    g2_grad.addColorStop(0, `rgba(${r2}, ${g2}, ${b2}, 1)`);
                    g2_grad.addColorStop(0.5, `rgba(${r2}, ${g2}, ${b2}, 0.4)`);
                    g2_grad.addColorStop(1, `rgba(${r2}, ${g2}, ${b2}, 0)`);
                    ctx.fillStyle = g2_grad;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, glow, 0, 6.28);
                    ctx.fill();

                    // Core neuron
                    ctx.fillStyle = n.color;
                    ctx.shadowColor = n.color;
                    ctx.shadowBlur = 25;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, r, 0, 6.28);
                    ctx.fill();
                    ctx.shadowBlur = 0;

                    // Selection highlight
                    if (selected === n.id) {
                        ctx.strokeStyle = '#ffff00';
                        ctx.lineWidth = 4;
                        ctx.globalAlpha = 0.9;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, r + 12, 0, 6.28);
                        ctx.stroke();
                        
                        // Pulsing ring
                        const pulse = Math.sin(time * 0.05) * 0.3 + 0.7;
                        ctx.strokeStyle = `rgba(255, 255, 0, ${pulse * 0.6})`;
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, r + 20, 0, 6.28);
                        ctx.stroke();
                        ctx.globalAlpha = 1;
                    }

                    // Label with glow
                    ctx.fillStyle = n.color;
                    ctx.font = 'bold 10px monospace';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.shadowColor = n.color;
                    ctx.shadowBlur = 10;
                    ctx.globalAlpha = 0.85;
                    ctx.fillText(n.name, p.x, p.y + r + 18);
                    ctx.shadowBlur = 0;
                    ctx.globalAlpha = 1;
                });

                document.getElementById('count').textContent = nodes.length;
                document.getElementById('status').textContent = selected !== null ? `üß† ${nodes[selected].name}` : '‚Äî';

                step();
                requestAnimationFrame(render);
            } catch (e) {
                console.error('Render error:', e);
            }
        }

        canvas.addEventListener('click', e => {
            const rect = canvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            for (let n of nodes) {
                const p = project(n.x, n.y, n.z);
                const d = Math.hypot(p.x - mx, p.y - my);
                if (d < n.size * p.scale + 25) {
                    selected = selected === n.id ? null : n.id;
                    break;
                }
            }
        });

        canvas.addEventListener('wheel', e => {
            e.preventDefault();
            camera.dist += e.deltaY * 0.3;
            camera.dist = Math.max(150, Math.min(950, camera.dist));
        });

        let drag = null;
        canvas.addEventListener('mousedown', e => {
            drag = {x: e.clientX, y: e.clientY};
        });
        document.addEventListener('mousemove', e => {
            if (drag) {
                camera.angle += (e.clientX - drag.x) * 0.012;
                camera.height -= (e.clientY - drag.y) * 0.45;
                drag = {x: e.clientX, y: e.clientY};
            }
        });
        document.addEventListener('mouseup', () => {
            drag = null;
        });

        window.walk = () => {
            selected = Math.floor(Math.random() * nodes.length);
        };

        window.reset = () => {
            camera = {angle: 0.5, dist: 480, height: 0};
            selected = null;
        };

        render();
    </script>
</body>
</html>
